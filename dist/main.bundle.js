(()=>{"use strict";var e,t={15:(e,t,r)=>{var a=r(440),n=r.n(a);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t,r){return t=s(t),function(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,c()?Reflect.construct(t,r||[],s(e).constructor):t.apply(e,r))}function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(c=function(){return!!e})()}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function l(e,t){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l(e,t)}function u(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,p(a.key),a)}}function f(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t,r){return(t=p(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,"string");if("object"!=i(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==i(t)?t:String(t)}var m,y,b,v,g,O,w,k=f((function e(t){h(this,e),d(this,"actors",[]),d(this,"limit",0),this.limit=t})),_=new(function(){function e(t){h(this,e),d(this,"assets",[]),this.assets=t}return f(e,[{key:"add",value:function(e){this.assets.push(e)}},{key:"remove",value:function(e){this.assets=this.assets.filter((function(t){return t.name!==e.name}))}},{key:"clear",value:function(){this.assets=[]}},{key:"getAssets",value:function(){return this.assets}}]),e}())([{name:"donkey",type:"image",url:"images/639657.jpg",width:400,height:300},{name:"blood",type:"image",url:"images/blood.png",isCreatable:!1},{name:"bg_img",type:"image",url:"images/bg_img.jpg"},{name:"ground",type:"image",url:"images/ground_inv.png",isCreatable:!1},{name:"button",type:"image",url:"images/ground.png",isCreatable:!1},{name:"wall",type:"image",url:"images/wall_inv.png",isCreatable:!1},{name:"sm_char",type:"spritesheet",url:"images/swordman_sprite_55_84.png",isCreatable:!1,options:{frameWidth:55,frameHeight:84}}]),x=100,j=0;const S=function(e){function t(){return h(this,t),o(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(t,e),f(t,[{key:"preload",value:function(){var e=this;_.getAssets().filter((function(e){return"image"===e.type})).forEach((function(t){var r,a;null===(r=(a=e.load)[t.type])||void 0===r||r.call(a,t.name,t.url)})),_.getAssets().filter((function(e){return"spritesheet"===e.type})).forEach((function(t){var r,a;null===(r=(a=e.load)[t.type])||void 0===r||r.call(a,t.name,t.url,t.options)}))}},{key:"create",value:function(){var e,t=this;_.getAssets().filter((function(e){return"image"===e.type&&!1!==e.isCreatable})).forEach((function(e){var r,a;null===(r=(a=t.add)[e.type])||void 0===r||r.call(a,e.width||640,(null==e?void 0:e.height)||360,e.name)})),(m=this.physics.add.staticGroup()).create(500,550,"ground").setScale(2).refreshBody(),m.create(180,0,"wall").setScale(2).refreshBody(),(y=this.physics.add.staticGroup()).create(1100,0,"wall").setScale(2).refreshBody(),this.anims.create({key:"left",frames:this.anims.generateFrameNumbers("sm_char",{start:0,end:5}),frameRate:10,repeat:-1}),this.anims.create({key:"turn",frames:[{key:"sm_char",frame:11}],frameRate:20}),this.anims.create({key:"atk",frames:this.anims.generateFrameNumbers("sm_char",{start:6,end:10}),frameRate:10,repeat:-1}),this.anims.create({key:"right",frames:this.anims.generateFrameNumbers("sm_char",{start:0,end:5}),frameRate:10,repeat:-1}),w=this.add.particles(0,0,"blood",{lifespan:4e3,quantity:20,speed:{min:200,max:300},scale:{start:.01,end:0},gravityY:500,blendMode:n().BlendModes.NORMAL,emitting:!1}),v=null===(e=this.input.keyboard)||void 0===e?void 0:e.createCursorKeys(),b=new k(1),g=this.add.text(900,16,"Health: "+x,{fontSize:"32px",color:"#0000ff",backgroundColor:"black"}),O=this.add.text(16,16,"Gold: "+j,{fontSize:"32px",color:"gold",backgroundColor:"black"}),this.add.text(100,540,"Spawn Soldier",{fontSize:"24px",color:"white",backgroundColor:"black"}).setInteractive({useHandCursor:!0}).on("pointerdown",(function(){j>=100&&(b.limit++,j-=100,O.setText("Gold: "+j))})).setDepth(10)}},{key:"update",value:function(e,t){var r=this;x<=0?this.add.text(640,360,"GAME OVER",{fontSize:"64px",shadow:{color:"red",stroke:!0,offsetX:5,offsetY:5},color:"#ff00ff"}):(b.limit>b.actors.length&&b.actors.push({character:this.physics.add.sprite(300,400,"sm_char").setScale(1.3),type:"swordsman",actionTimeOut:0,animationTimeOut:0,health:100}),b.actors.forEach((function(e){var t;if(e.character.setCollideWorldBounds(!0),e.character.setBounce(.2),r.physics.add.collider(e.character,m),r.physics.add.collider(e.character,y),e.health<=0)return b.actors=b.actors.filter((function(t){return t!==e})),e.character.destroy(),void b.limit--;e.character.body.velocity.x<160?e.character.setAccelerationX(160):e.character.setAccelerationX(0),0===e.actionTimeOut&&e.character.body.touching.right?(e.character.anims.play("atk",!0),e.actionTimeOut=50,e.animationTimeOut=20,x-=1,e.character.setVelocityX(-160),e.character.setVelocityY(-200),e.health-=30,w.emitParticleAt(e.character.x,e.character.y),j+=50):0===e.animationTimeOut&&(e.character.body.velocity.x>0?e.character.anims.play("right",!0):e.character.anims.play("turn")),g.setText("Health: "+x),O.setText("Gold: "+j),e.actionTimeOut>0&&e.actionTimeOut--,e.animationTimeOut>0&&e.animationTimeOut--,null!==(t=v)&&void 0!==t&&t.up.isDown&&e.character.body.touching.down&&e.character.setVelocityY(-330)})))}}]),t}(n().Scene);var T={type:n().AUTO,width:1280,height:720,scene:S,physics:{default:"arcade",arcade:{gravity:{x:0,y:400}}}};new(n().Game)(T)}},r={};function a(e){var n=r[e];if(void 0!==n)return n.exports;var i=r[e]={exports:{}};return t[e].call(i.exports,i,i.exports,a),i.exports}a.m=t,e=[],a.O=(t,r,n,i)=>{if(!r){var o=1/0;for(u=0;u<e.length;u++){for(var[r,n,i]=e[u],c=!0,s=0;s<r.length;s++)(!1&i||o>=i)&&Object.keys(a.O).every((e=>a.O[e](r[s])))?r.splice(s--,1):(c=!1,i<o&&(o=i));if(c){e.splice(u--,1);var l=n();void 0!==l&&(t=l)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[r,n,i]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={792:0};a.O.j=t=>0===e[t];var t=(t,r)=>{var n,i,[o,c,s]=r,l=0;if(o.some((t=>0!==e[t]))){for(n in c)a.o(c,n)&&(a.m[n]=c[n]);if(s)var u=s(a)}for(t&&t(r);l<o.length;l++)i=o[l],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(u)},r=self.webpackChunkstickman_towerdefence=self.webpackChunkstickman_towerdefence||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var n=a.O(void 0,[440],(()=>a(15)));n=a.O(n)})();